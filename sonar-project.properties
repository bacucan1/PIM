# ========================================
# Configuración de SonarQube para API
# ========================================

# Información del proyecto
sonar.projectKey=pim-api
sonar.projectName=PIM API
sonar.projectVersion=1.0.0-SNAPSHOT

# Descripción
sonar.projectDescription=API REST para el sistema PIM (Personal Information Management)

# Rutas de código fuente y pruebas
sonar.sources=src/main/java
sonar.tests=src/test/java

# Rutas de binarios compilados
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# Codificación del código fuente
sonar.sourceEncoding=UTF-8

# Versión de Java
sonar.java.source=17
sonar.java.target=17

# Reportes de cobertura
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml,target/site/jacoco-aggregate/jacoco.xml
sonar.junit.reportPaths=target/surefire-reports,target/failsafe-reports

# ========================================
# Exclusiones
# ========================================

# Archivos y directorios a excluir del análisis
sonar.exclusions=\
    **/target/**,\
    **/node_modules/**,\
    **/*.xml,\
    **/*.json,\
    **/config/**,\
    **/dto/**,\
    **/entity/**,\
    **/model/**,\
    **/*Application.java,\
    **/Application.java

# Exclusiones de cobertura de código
sonar.coverage.exclusions=\
    **/config/**,\
    **/dto/**,\
    **/entity/**,\
    **/model/**,\
    **/*Application.java,\
    **/Application.java,\
    **/*Config.java,\
    **/*Configuration.java,\
    **/*Properties.java

# Exclusiones de duplicación de código
sonar.cpd.exclusions=\
    **/dto/**,\
    **/entity/**,\
    **/model/**,\
    **/*Test.java,\
    **/test/**

# ========================================
# Configuración de análisis
# ========================================

# Plugin de cobertura
sonar.java.coveragePlugin=jacoco

# Análisis dinámico
sonar.dynamicAnalysis=reuseReports

# ========================================
# Umbrales de Quality Gate
# ========================================

# Esperar por el resultado del Quality Gate
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# ========================================
# Configuración de issues
# ========================================

# Ignorar múltiples criterios de issues
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignorar System.out.println en clases de configuración
e1.ruleKey=java:S106
e1.resourceKey=**/config/**.java

# Ignorar string literals duplicados en tests
e2.ruleKey=java:S1192
e2.resourceKey=**/*Test.java

# Ignorar complejidad cognitiva alta en controllers
e3.ruleKey=java:S3776
e3.resourceKey=**/controller/**.java

# Ignorar métodos públicos sin javadoc en DTOs
e4.ruleKey=java:S1186
e4.resourceKey=**/dto/**.java

# ========================================
# Configuración de Security
# ========================================

# Habilitar análisis de seguridad
sonar.security.enable=true

# ========================================
# Configuración de Duplicaciones
# ========================================

# Número mínimo de tokens para detectar duplicación
sonar.cpd.java.minimumtokens=100


